services:
  vibevoice:
    image: ghcr.io/dale0525/vibevoice-docker:7b
    ports:
      - "8000:8000"
    volumes:
      - ./data:/data
    environment:
      - VIBEVOICE_PRELOAD_MODEL=1
      - VIBEVOICE_WARMUP_ON_PRELOAD=true
      - VIBEVOICE_IDLE_UNLOAD_SECONDS=900
      - VIBEVOICE_MAX_LOADED_MODELS=1
    deploy:
      resources:
        reservations:
          devices:
            - driver: nvidia
              device_ids: ["0"]
              capabilities: [gpu]
